#summary Summary of ideas and information about making a GetPaid / PloneFormGen integration
#labels Featured,Phase-Requirements

= Introduction =

PloneFormGen is a popular tool for creating custom forms in the Plone CMS. GetPaid could leverage this flexibility to allow Plone site admins to create custom forms associated with the buyable content (or donations) available in their site. 

Something along the lines of the Salesforce connector done by One/Northwest would be ideal. General scenario would be something like:

 * Make a form with fields using PFG. 
 * make the PFG form "buyable"
 * Map the fields in form into the checkout wizard fields 

= Use Case Details =

Specific use cases: 

 * Make an alternative, single page form that could build the checkout pieces in one place...or gather the info you want, save to csv, and then pass to checkout to continue)
 * ability to map fields to buyable items in your site (show list of items for sale and let user enter quantity, or, in case of a donation, amounts).
 * ability to add buttons to "checkout" or "add to cart" (customizable names), based on what the user wants to do with the gathered information.

We probably need to distinguish between the use of the form for a single product/donation (ie one-page checkout) and support for using a form for ordering multiple items (example)

= Tasks = 

 * Possible Refactor checkout wizard: split order creation part from data gathering (wizard)
   Perrito (horacio) here:
   If I am not mistaken, the order creation and the processor authorization and perhaps other end of transaction related stuff is happening in the make_payment step in checkout-review-pay of the wizard. I thought that, instead of this, we could have a Class managing all these functionalities with helper methods and, more important, separated from checkout wizard. This way we could use the data gathering method that we want or modify the checkout process without fear of breaking functionality while changing view.

 * creating adapter and mapping
    * creating item in cart from field (and arbitrary amount)
    * mapping dropdown of amounts into the cart (ie pick predefined 5, 10, 20)
 * Make a PFG content type that provides prepopulated and mapped form (optional, for usability and not having to recreate all fields)